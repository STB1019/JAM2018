<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>How to add an external dll in Unity</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="3a5445a9-f9a3-468d-8c7a-0af967ea87ff" /><meta name="Description" content="This page will help you to understand how we linked an external DLL inside unity" /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">A Sandcastle Documented Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="155d95a6-7b41-47d6-b0db-edcf147d375e.htm" title="A Sandcastle Documented Class Library" tocid="roottoc">A Sandcastle Documented Class Library</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="155d95a6-7b41-47d6-b0db-edcf147d375e.htm" title="Welcome to the JAM 2018 Documentation" tocid="155d95a6-7b41-47d6-b0db-edcf147d375e">Welcome to the JAM 2018 Documentation</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="2cdbd4f0-165b-4302-a4e2-7405adff0767.htm" title="GettingStarted" tocid="2cdbd4f0-165b-4302-a4e2-7405adff0767">GettingStarted</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="b59a08b8-1558-4e1c-a9cc-4fe15eb5a671.htm" title="Glossary" tocid="b59a08b8-1558-4e1c-a9cc-4fe15eb5a671">Glossary</a></div><div class="toclevel1 current" data-toclevel="1"><a data-tochassubtree="false" href="3a5445a9-f9a3-468d-8c7a-0af967ea87ff.htm" title="How to add an external dll in Unity" tocid="3a5445a9-f9a3-468d-8c7a-0af967ea87ff">How to add an external dll in Unity</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="fc300a71-1e38-4b76-b8a7-916780adae45.htm" title="Troubleshooting" tocid="fc300a71-1e38-4b76-b8a7-916780adae45">Troubleshooting</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Scripts_Game_ActualProps.htm" title="Scripts.Game.ActualProps" tocid="N_Scripts_Game_ActualProps">Scripts.Game.ActualProps</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Scripts_Game_Bridges.htm" title="Scripts.Game.Bridges" tocid="N_Scripts_Game_Bridges">Scripts.Game.Bridges</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Scripts_Game_Controls.htm" title="Scripts.Game.Controls" tocid="N_Scripts_Game_Controls">Scripts.Game.Controls</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Scripts_Game_Model.htm" title="Scripts.Game.Model" tocid="N_Scripts_Game_Model">Scripts.Game.Model</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Scripts_Game_QuickTesting.htm" title="Scripts.Game.QuickTesting" tocid="N_Scripts_Game_QuickTesting">Scripts.Game.QuickTesting</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Scripts_Game_RoomFactory_Visualization.htm" title="Scripts.Game.RoomFactory.Visualization" tocid="N_Scripts_Game_RoomFactory_Visualization">Scripts.Game.RoomFactory.Visualization</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Scripts_Game_UI.htm" title="Scripts.Game.UI" tocid="N_Scripts_Game_UI">Scripts.Game.UI</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_SharpGraphs.htm" title="SharpGraphs" tocid="N_SharpGraphs">SharpGraphs</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_SharpNotificationCenter.htm" title="SharpNotificationCenter" tocid="N_SharpNotificationCenter">SharpNotificationCenter</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_SharpSearches.htm" title="SharpSearches" tocid="N_SharpSearches">SharpSearches</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_SharpUtilities.htm" title="SharpUtilities" tocid="N_SharpUtilities">SharpUtilities</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>How to add an external dll in Unity</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>This page will help you to understand how we linked an external DLL inside unity</p></div><div class="collapsibleAreaRegion" id="Section1"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Explanation</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
					Unity automatically compiles the C# scripts with every shared library (DLL) inside "Plugins" folder (inside Assets folder).
					So we have simply copied each DLL we need inside such directory.
					We depend on SharpLibrary projects: it would be cucumbersome if each time we built a new version of SharpLibrarys DLL, we would need
					to manually copy the DLL inside "Assets/Plugins". To avoid this we have created a <strong>post build event</strong>
					for every external project. Such post build event simply copies the "*.dll" and "*.pdb" (files useful while debugging) inside "Assets/Plugins".
				</p></div><div class="collapsibleAreaRegion" id="Section2"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Lorenzo Nodari notes</span></div><div id="ID1RBSection" class="collapsibleSection"><p>
					The post build event task was created in <strong>issue #21</strong> by Lorenzo Nodari. Here's a brief explanation from Lorenzo himself:
				</p><h4 class="subHeading">Using an external library within a Unity project</h4><div class="subsection">
						In order to use an external library in a Unity project, the library DLL needs to be
						imported in the project as an asset. The Unity manual suggets creating a directory
						named "Plugins" in the Assets folder and simply place the .dll file in that directory.
						Once this is done, one can simply import the namespaces declared in the DLL without any
						particular prefix.
					</div><h4 class="subHeading">Automating DLL asset import within Visual Studio</h4><div class="subsection">
						Automating the DLL asset import within Visual Studio

						Due to the fact that the DLL needs to be manually copied in that folder each time it is
						rebuilt, we used Visual Studio Post Build Events to automate this process.
						To do this, simply open the related solution in Visual Studio and right click on the project
						containing the files which will compose the DLL.
						In the menu, go to "Properties" -&gt; "Build Events".
						To achieve the desired effect we then just need to insert the following lines in the "Post-build event command line" text-area:

						xcopy "$(TargetDir)$(TargetName).dll" "$(SolutionDir)..\JAM2018\Assets\Plugins" /Y
						if exist "$(TargetDir)$(TargetName).pdb" xcopy "$(TargetDir)$(TargetName).pdb" "$(SolutionDir)..\JAM2018\Assets\Plugins" /Y

						Here's a brief explanation:
						<ul class="noBullet"><li><p>
									xcopy is the command which (surprisingly) copies one file to another location. Its syntax is "xcopy source
									target_location"
								</p></li><li><p>
									/Y is a xcopy command option which indicates not to prompt for file overwrite each time a file would be substituted
								</p></li><li><p>
									$(TargetDir) is a special variable which expands to the absolute path - drive + path - of the target of the build process. In this
									case, the target is our DLL. Note that we don't need any trailing backslash after expansion as it is already
									included in the special variable.
								</p></li><li><p>
									$(TargetName) is a special variable which expands to the name of the target file, without extension
								</p></li><li><p>
									$(SolutionDir) is a special variable which expands to the directory which contains the Solution we are working on
								</p></li><li><p>
									"if exist" if a conditional statement which checks if a particular file/directory exists and if true, executes the next command.
									In this case, what we are doing is checking if the .pdb debug files are present and eventually copying them.
								</p></li></ul></div></div></div></div><div id="pageFooter" class="pageFooter"><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:massimo.bono%40ieee.org?Subject=A Sandcastle Documented Class Library">massimo.bono@ieee.org</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>